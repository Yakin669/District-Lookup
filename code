<!DOCTYPE html>
<html>
<body>

<input type="text" id="keyInput" list="streetOptions" oninput="document.getElementById('valueOutput').innerHTML = ''">
<datalist id="streetOptions"></datalist>

<button onclick="displayValueByKey()"style="background-color: #19D419; color:white;">Get Results</button>
<button onclick="resetApp()"style="background-color: #f44336; color: white;">Clear Results</button>

<p><span id="valueOutput"></span></p>

<script>
function clearAll() {
    // Clear the input field
    document.getElementById('keyInput').value = "";
    
    // Clear the result text
    document.getElementById('valueOutput').innerHTML = "";
    
    // Put the cursor back in the box so you can type immediately
    document.getElementById('keyInput').focus();
}


const locationData = [
    {///fetch address info as JSON object
];

// Populate the Datalist Dropdown automatically
function setupDatalist() {
    const dataList = document.getElementById('streetOptions');
    locationData.forEach(item => {
        let option = document.createElement('option');
        option.value = item.STREET;
        dataList.appendChild(option);
    });
}

function displayValueByKey() {
    const input = document.getElementById('keyInput').value.trim().toLowerCase();
    const output = document.getElementById('valueOutput');
    
    // Find the street (case-insensitive)
    const result = locationData.find(loc => loc.STREET.toLowerCase() === input);

    if (result) {
        // Accessing keys like "VILLAGE " using bracket notation because of the trailing space
        const village = result["VILLAGE "] || "N/A";
        const district = result["DISTRICT"] || "N/A";
        const type = result["TYPE "] || "N/A";
        const unit = result["UNIT NUMBER"] || "N/A";
        const county = result["COUNTY "] || "N/A";
        const city = result["CITY "] || "N/A";
        const villa = result["VILLAS "] || "N/A";


        output.innerHTML = `<strong>District:</strong> ${district} <br> <strong>Village:</strong> ${village} <br> <strong>Villas:</strong> ${villa} <br> <strong>Type:</strong> ${type} <br> <strong>Unit</strong> ${unit} <br> <strong>County:</strong> ${county} <br> <strong>City:</strong> ${city}`;
    } else {
        output.textContent = "Street not found. Please select from the list.";
    
    }
}

// Initialize the list on page load
setupDatalist();
function resetApp() {
    // Target the input box and set its value to an empty string
    const inputField = document.getElementById('keyInput');
    inputField.value = "";
    
    // Target the result span and clear its content
    const outputArea = document.getElementById('valueOutput');
    outputArea.innerHTML = "";
    
    // Optional: Bring the cursor back to the input box immediately
    inputField.focus();
}

</script>

</body>
</html>
